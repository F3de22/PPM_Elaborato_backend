{% extends 'layout.html' %}

{% block title %}
    All songs list
{% endblock %}

{% block main-content %}
    <h2 style="text-align: center; margin: 10px 0; font-size: 3rem">All Songs</h2>
    {% if allsongs %}
        <p style="margin-left: 25px">There are {{ allsongs|length }} songs:</p>
    {% else %}
        <p>No songs found.</p>
    {% endif %}
        <div id="songlist">
        {% for i in allsongs %}
            <div class="sameMovieCard">
                <div class="container_songpost">
                    <img src="/{{i.image}}" id="A_{{i.song_id}}"/>
                    <div class="overlay_songpost"></div>
                    <div class="play-btn_songpost">
                        <a class="play-btn" data-song-url="/{{i.song}}" id="{{i.song_id}}" onclick="playSong(this)"><i class="fas fa-play-circle fa-2x"></i></a>
                    </div>
                </div>
                <div class="songpost_data">
                    <h5 class="song-name" id="B_{{i.song_id}}"><a data-song-url="/{{i.song}}" id="{{i.song_id}}" onclick="playSong(this)">{{i.name}}</a></h5>
                    <p class="singer-name" id="C_{{i.song_id}}">{{i.artist}}</p>
                    {% if user.is_authenticated %}
                        <a class="add-playlist-btn-allSongs" id="W_{{i.song_id}}" onclick="showDiv(this)" title="Add to Playlist"> <i class="fas fa-ellipsis-h"></i></a>
                    {% endif %}
                </div>
            </div>
        {% endfor %}
        <br>
        <br>
        </div>

        <div id="divId">
            {% if my_playlists %}
                <p style="margin: 5px; font-size: 0.75rem; font-weight: 700; color: rgb(138, 138, 138); text-align: left;">Add This Song To Your Playlist</p>
            {% for playlist in my_playlists %}
                <a class="left-panel-btn" id="D_{{playlist.playlist_id}}" onclick="sendPostRequestPlaylistSong(this)">{{playlist.playlist_name}}</a><br>
            {% endfor %}
            {% else %}
                <p style="margin: 5px; font-size: 0.8rem; font-weight: 700; color: rgb(138, 138, 138); text-align: left;">You don't have any Playlist.</p>
                <a class="create-p" onclick="$('#divId').css({display: 'none'}); document.getElementById('modal-wrapper-playlist').style.display='block'"><i class="fas fa-plus"></i> Create Playlist</a>
            {% endif %}
        </div>

{% endblock %}
